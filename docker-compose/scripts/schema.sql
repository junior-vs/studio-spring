
CREATE SCHEMA infrastructure;
CREATE SCHEMA business;


CREATE USER 'userapp'@'%' IDENTIFIED BY 'userpass';
GRANT ALL PRIVILEGES ON *.* TO 'userapp'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES;



USE business;


-- Autogenerated: do not edit this file
DROP TABLE IF EXISTS BATCH_STAGING_SEQ;
DROP TABLE IF EXISTS TRADE_SEQ;
DROP TABLE IF EXISTS CUSTOMER_SEQ;
DROP TABLE IF EXISTS BATCH_STAGING;
DROP TABLE IF EXISTS TRADE;
DROP TABLE IF EXISTS CUSTOMER;
DROP TABLE IF EXISTS PLAYERS;
DROP TABLE IF EXISTS GAMES;
DROP TABLE IF EXISTS PLAYER_SUMMARY;
DROP TABLE IF EXISTS ERROR_LOG;
DROP TABLE IF EXISTS PEOPLE;
DROP TABLE IF EXISTS TRANSACAO;
DROP TABLE IF EXISTS CLIENTE;
-- base.BATCH_STAGING definition

CREATE TABLE IF NOT EXISTS `BATCH_STAGING` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `JOB_ID` bigint NOT NULL,
  `VALUE` longblob NOT NULL,
  `PROCESSED` char(1) NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.BATCH_STAGING_SEQ definition

CREATE TABLE IF NOT EXISTS `BATCH_STAGING_SEQ` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.CUSTOMER definition

CREATE TABLE IF NOT EXISTS `CUSTOMER` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `VERSION` bigint DEFAULT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `CREDIT` decimal(10,2) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.CUSTOMER_SEQ definition

CREATE TABLE IF NOT EXISTS `CUSTOMER_SEQ` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.ERROR_LOG definition

CREATE TABLE IF NOT EXISTS `ERROR_LOG` (
  `JOB_NAME` char(20) DEFAULT NULL,
  `STEP_NAME` char(20) DEFAULT NULL,
  `MESSAGE` varchar(300) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.GAMES definition

CREATE TABLE IF NOT EXISTS `GAMES` (
  `PLAYER_ID` char(8) NOT NULL,
  `YEAR_NO` bigint NOT NULL,
  `TEAM` char(3) NOT NULL,
  `WEEK` bigint NOT NULL,
  `OPPONENT` char(3) DEFAULT NULL,
  `COMPLETES` bigint DEFAULT NULL,
  `ATTEMPTS` bigint DEFAULT NULL,
  `PASSING_YARDS` bigint DEFAULT NULL,
  `PASSING_TD` bigint DEFAULT NULL,
  `INTERCEPTIONS` bigint DEFAULT NULL,
  `RUSHES` bigint DEFAULT NULL,
  `RUSH_YARDS` bigint DEFAULT NULL,
  `RECEPTIONS` bigint DEFAULT NULL,
  `RECEPTIONS_YARDS` bigint DEFAULT NULL,
  `TOTAL_TD` bigint DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.PLAYERS definition

CREATE TABLE IF NOT EXISTS `PLAYERS` (
  `PLAYER_ID` char(8) NOT NULL,
  `LAST_NAME` varchar(35) NOT NULL,
  `FIRST_NAME` varchar(25) NOT NULL,
  `POS` varchar(10) DEFAULT NULL,
  `YEAR_OF_BIRTH` bigint NOT NULL,
  `YEAR_DRAFTED` bigint NOT NULL,
  PRIMARY KEY (`PLAYER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.PLAYER_SUMMARY definition

CREATE TABLE IF NOT EXISTS `PLAYER_SUMMARY` (
  `ID` char(8) NOT NULL,
  `YEAR_NO` bigint NOT NULL,
  `COMPLETES` bigint NOT NULL,
  `ATTEMPTS` bigint NOT NULL,
  `PASSING_YARDS` bigint NOT NULL,
  `PASSING_TD` bigint NOT NULL,
  `INTERCEPTIONS` bigint NOT NULL,
  `RUSHES` bigint NOT NULL,
  `RUSH_YARDS` bigint NOT NULL,
  `RECEPTIONS` bigint NOT NULL,
  `RECEPTIONS_YARDS` bigint NOT NULL,
  `TOTAL_TD` bigint NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.TRADE definition

CREATE TABLE IF NOT EXISTS `TRADE` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `VERSION` bigint DEFAULT NULL,
  `ISIN` varchar(45) NOT NULL,
  `QUANTITY` bigint DEFAULT NULL,
  `PRICE` decimal(8,2) DEFAULT NULL,
  `CUSTOMER` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.TRADE_SEQ definition

CREATE TABLE IF NOT EXISTS `TRADE_SEQ` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- base.people definition

CREATE TABLE IF NOT EXISTS `PEOPLE` (
  `person_id` bigint NOT NULL AUTO_INCREMENT,
  `first_name` varchar(20) DEFAULT NULL,
  `last_name` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`person_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE IF NOT EXISTS TRANSACAO (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    tipo INT,
    data DATE,
    valor DECIMAL(10,2),
    cpf VARCHAR(11),
    cartao VARCHAR(255),
    hora TIME,
    dono_da_loja VARCHAR(255),
    nome_da_loja VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS CLIENTE (
	nome TEXT,
	sobrenome TEXT,
	idade TEXT,
	email TEXT
);